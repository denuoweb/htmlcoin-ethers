const utxoDecoder = require("../index");

test('bch p2pkh', ()=>{
    const bchRaw = "01000000045f6f02f8cf9b1221b04850ca253379ff29be6d8f165bc059fbf169a6b1436a58000000006a47304402201acf7edeb14f511c2d8b6f819827d379aca2da51d87e9755b64413a0e6aabed302200256ae612c7f5244bfc36ef0e87de2a2b7c9b5b0cb0769dce3d96fc381ff3b66412102100dbe85cedc0651421a9d0117e363227850fffdfc9396f15989cfab26f698dcffffffff8db70621748adc2a86728cd2cf7903d146432169cec3415c964a55ad97fe933c000000006b483045022100c33d16b1a1f3c14ddc4eaa6f43d759b6abbd8d7e4435583a9274ea1588d1d5c90220438076477abbc26f96ce72cec2976ea2561771bcb5693166d2291afe6ee6f160412102100dbe85cedc0651421a9d0117e363227850fffdfc9396f15989cfab26f698dcffffffffdba70f0187a11d0674a23b20e831f41d84439caa3ffba39aab8226e8cabc7660000000006a4730440220035da2fc1651cda021be060f3d19b7da7cc57d2eea4a6b2e59e7324dabe56d8b02202d8421c521ad38561282ccbc52bee28a03e9ca29830bbbff7794e41898dddf42412102100dbe85cedc0651421a9d0117e363227850fffdfc9396f15989cfab26f698dcffffffff7400db0aa9ce34f368033ebd56c0b697c775b38805b7c056954e20df64312b5c000000006b483045022100ab63083a06c37b6f8427a50dbf4665a01482eefe353cc676dcf803322c2282c70220356e99902bacc3262f8b76a37dbaa0fee0e675a90a97406a04d0580be17b40da412102100dbe85cedc0651421a9d0117e363227850fffdfc9396f15989cfab26f698dcffffffff015fbc3600000000001976a9141b98acb2d1e2f9b19f2e5b12b87dc3a439133aae88ac00000000";
    let decodedTx = utxoDecoder.decode(bchRaw);
    expect(decodedTx.ins.length).toBe(4)
    expect(decodedTx.ins[0].script).toHaveProperty('signature')
    expect(decodedTx.ins[0].script).toHaveProperty('publicKey')
    expect(decodedTx.outs.length).toBe(1)
})
